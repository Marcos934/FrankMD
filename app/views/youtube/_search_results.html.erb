<% videos.each_with_index do |video, index| %>
  <button
    type="button"
    data-index="<%= index %>"
    data-video-id="<%= video[:id] %>"
    data-video-title="<%= video[:title] %>"
    data-action="click->video-dialog#selectYoutubeVideo keydown->video-dialog#onYoutubeResultKeydown"
    class="flex flex-col rounded-lg overflow-hidden bg-[var(--theme-bg-tertiary)] hover:bg-[var(--theme-bg-hover)] transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)]"
  >
    <div class="relative aspect-video bg-[var(--theme-bg-tertiary)]">
      <img
        src="<%= video[:thumbnail] %>"
        alt="<%= video[:title] %>"
        class="w-full h-full object-cover"
        onerror="this.style.display='none'"
      >
      <div class="absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black/30">
        <svg class="w-12 h-12 text-white drop-shadow-lg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
        </svg>
      </div>
    </div>
    <div class="p-2">
      <div class="text-xs font-medium text-[var(--theme-text-primary)] line-clamp-2"><%= video[:title] %></div>
      <div class="text-xs text-[var(--theme-text-muted)] truncate mt-0.5"><%= video[:channel] %></div>
    </div>
  </button>
<% end %>
