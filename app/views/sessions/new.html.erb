<!DOCTYPE html>
<html>
  <head>
    <title>FrankMD - Login</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        --theme-bg-primary: #ffffff;
        --theme-text-primary: #18181b;
        --theme-border: #e4e4e7;
        --theme-accent: #3b82f6;
      }
      [data-theme="dark"] {
        --theme-bg-primary: #09090b;
        --theme-text-primary: #f4f4f5;
        --theme-border: #27272a;
      }
    </style>
  </head>
  <body class="bg-[var(--theme-bg-primary)] text-[var(--theme-text-primary)] h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md bg-[var(--theme-bg-primary)] border border-[var(--theme-border)] rounded-xl shadow-2xl p-8">
      <div class="flex flex-col items-center mb-8">
        <img src="/icon.svg" class="w-16 h-16 mb-4" alt="FrankMD">
        <h1 class="text-2xl font-bold">FrankMD</h1>
        <p class="text-[var(--theme-text-muted)] text-sm mt-1">Acesso Restrito</p>
      </div>

      <%= form_with url: login_path, local: true, class: "space-y-6" do |f| %>
        <% if flash[:alert] %>
          <div class="bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-lg text-sm text-center">
            <%= flash[:alert] %>
          </div>
        <% end %>

        <div>
          <%= f.label :password, "Senha", class: "block text-sm font-medium mb-2" %>
          <%= f.password_field :password, autofocus: true, placeholder: "Digite sua senha...", class: "w-full bg-[var(--theme-bg-primary)] border border-[var(--theme-border)] rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all" %>
        </div>

        <%= f.submit "Entrar", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 rounded-lg transition-colors cursor-pointer shadow-lg shadow-blue-500/20" %>
      <% end %>

      <div class="mt-8 text-center">
        <p class="text-[var(--theme-text-muted)] text-xs">FrankMD - Seu cofre pessoal de notas</p>
      </div>
    </div>

    <script>
      // Sync with system theme
      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    </script>
  </body>
</html>
